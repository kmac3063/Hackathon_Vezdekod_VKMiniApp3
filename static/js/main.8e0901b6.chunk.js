(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{144:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(17),r=a.n(c),s=a(12),i=a.n(s),o=a(22),u=a.n(o),b=a(26),p=a(6),d=a(8),j=(a(142),a(5)),f=function(e){var t=e.id,a=(e.go,e.fetchedUser,e.pos),c=(e.gyrData,Object(n.useState)(160)),r=Object(p.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)(160),u=Object(p.a)(o,2),b=u[0],f=u[1],h=Object(n.useState)(0),O=Object(p.a)(h,2),l=(O[0],O[1],Object(n.useState)(0)),x=Object(p.a)(l,2),g=(x[0],x[1],Object(n.useState)({a:0,b:0,c:0})),v=Object(p.a)(g,2);v[0],v[1];Object(n.useEffect)((function(){A(a.x,a.y)}),[a]);var y=function(e,t){return e[0]<=t[0]&&t[0]<=e[0]+20&&e[1]<=t[1]&&t[1]<=e[1]+20},m=function(e,t){var a=S();if(e<0||e>=320||t<0||t>=320)return!1;for(var n=[e,t],c=[e+10,t],r=[e,t+10],s=[e+10,t+10],i=0;i<a.length;i++){var o=a[i];if(y(o,n)||y(o,c)||y(o,r)||y(o,s))return!1}return!0},A=function(e,t){var a=s,n=b;(void 0===a||isNaN(a))&&(a=160),(void 0===n||isNaN(n))&&(n=160),(void 0===e||isNaN(e))&&(e=0),(void 0===t||isNaN(t))&&(t=0),m(a+e,n)?a+=e:a-=e,m(a,n+t)?n+=t:n-=t,i(a),f(n)},S=function(){for(var e=["0000000000000000","0000111111100000","0011100010111110","0010100010100010","0000000010101010","0111111110111010","0010100000101010","0111100111101010","0010100110001010","0010100000001010","0010111111101010","0010000001001010","0110111111001010","0010100000001110","0010111011111000","0000001000000000"],t=[],a=0;a<16;a++)for(var n=0;n<16;n++)"0"===e[a][n]&&t.push([20*n,20*a]);return t},N=S();return Object(j.jsxs)(d.d,{id:t,style:{backgroundColor:"#AAAAAA"},children:[Object(j.jsx)(d.c,{style:{margin:"auto",width:"100px",height:"100px",padding:"0px"},children:N.map((function(e){return Object(j.jsx)(d.c,{style:{position:"fixed",padding:"0",width:20,height:20,left:e[0],top:e[1],backgroundColor:"#DDDDDD"}},100*e[0]+e[1])}))}),Object(j.jsx)(d.c,{style:{position:"absolute",padding:"0",width:10,height:10,left:s,top:b,backgroundColor:"#FF0000"}})]})},h=function(){var e=Object(n.useState)("home"),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(p.a)(r,2),o=s[0],h=s[1],O=Object(n.useState)(Object(j.jsx)(d.e,{size:"large"})),l=Object(p.a)(O,2),x=l[0],g=l[1],v=Object(n.useState)([0,0]),y=Object(p.a)(v,2),m=y[0],A=y[1],S=Object(n.useState)({x:0,y:0,z:0}),N=Object(p.a)(S,2),D=N[0];N[1];Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.a.send("VKWebAppGyroscopeStart",{refresh_rate:20}),g(null),e.next=4,i.a.send("VKWebAppGetUserInfo");case 4:t=e.sent,h(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.subscribe((function(e){var t,a,n=e.detail,c=n.type,r=n.data;if("VKWebAppUpdateConfig"===c){var s=document.createAttribute("scheme");s.value=r.scheme?r.scheme:"client_light",document.body.attributes.setNamedItem(s)}else"VKWebAppGyroscopeChanged"===c&&(t=r.x,a=r.y,A(t<.05&&a<.05?{x:0,y:0}:function(e,t){var a=Math.sqrt(e*e+t*t);return{x:e/a,y:t/a}}(r.y,r.x)),console.log(m.x,m.y))})),function(){e.apply(this,arguments)}()}),[]);return Object(j.jsx)(d.a,{children:Object(j.jsx)(d.b,{children:Object(j.jsx)(d.f,{activePanel:a,popout:x,children:Object(j.jsx)(f,{id:"home",fetchedUser:o,go:function(e){c(e.currentTarget.dataset.to)},pos:m,gyrData:D})})})})};i.a.send("VKWebAppInit"),r.a.render(Object(j.jsx)(h,{}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.8e0901b6.chunk.js.map